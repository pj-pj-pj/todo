(()=>{"use strict";var e={};e.g=function(){if("object"==typeof globalThis)return globalThis;try{return this||new Function("return this")()}catch(e){if("object"==typeof window)return window}}(),(()=>{var t;e.g.importScripts&&(t=e.g.location+"");var n=e.g.document;if(!t&&n&&(n.currentScript&&(t=n.currentScript.src),!t)){var i=n.getElementsByTagName("script");if(i.length)for(var o=i.length-1;o>-1&&!t;)t=i[o--].src}if(!t)throw new Error("Automatic publicPath is not supported in this browser");t=t.replace(/#.*$/,"").replace(/\?.*$/,"").replace(/\/[^\/]+$/,"/"),e.p=t})();const t=i("Tasks");function n(e,n,i){let o={};return o.name=e,o.dueDate=n,o.priority=i,o.isFin="Unfinished",o.setName=function(e){this.name=e},o.setDueDate=function(e){this.dueDate=e},o.setPriority=function(e){this.priority=e},o.toggleComplete=function(){"Finished"==this.isFin?this.isFin="Unfinished":this.isFin="Finished"},o.delete=function(){for(let e of t.getList()){const t=e.getList().indexOf(this);if(-1!==t){e.getList().splice(t,1);break}}},o}function i(e){let t={};return t.name=e,t.items=[],t.setName=function(e){this.name=e},t.add=function(e){this.items.push(e)},t.getList=function(){return this.items},t}t.getTaskOf=function(e,n){return t.getList()[e].getList()[n]};const o=e.p+"0edbe23457b28843cafd.png",a=e.p+"92881cf98b591daca7ae.png",s=document.querySelector("div#content-header p"),d=document.querySelector("#back-btn"),c=document.querySelector("div#container"),r=document.querySelector("header button.options"),l=document.querySelector(".taskoption-btn"),u=document.querySelector("main nav"),m=document.querySelector(".task-menu"),p=document.getElementsByClassName("tab"),y=document.querySelector("#add-task"),f=document.querySelector("#add-proj");function g(e){const t=document.createElement("span"),n=document.createElement("p"),i=new Image;i.src=o,n.textContent=e.name,"General Task"==e.name?n.contentEditable=!1:n.contentEditable=!0,n.addEventListener("blur",(()=>e.name=n.textContent)),t.append(i,n),c.append(t)}function L(e){const t=document.createElement("div");t.classList.add("task-card");const n=document.createElement("p");n.classList.add("task-name"),n.contentEditable=!0;const i=document.createElement("button");i.classList.add("task-state");const o=document.createElement("input");o.type="date",o.classList.add("task-date");const s=document.createElement("button");s.classList.add("priority");const d=document.createElement("button");d.classList.add("del-btn");const r=new Image;n.textContent=e.name,i.textContent=e.isFin,o.value=e.dueDate,s.textContent=e.priority,r.src=a,t.append(n,i,o,s,d),c.append(t),d.append(r),h(),"High"==e.priority&&(s.style.backgroundColor="#a12535"),"Medium"==e.priority&&(s.style.backgroundColor="#9c702a"),"Low"==e.priority&&(s.style.backgroundColor="#4c5e3d"),"Finished"==e.isFin&&(n.style.textDecoration="line-through",t.style.filter="brightness(50%)",n.disabled=!0,s.disabled=!0,o.disabled=!0),d.onclick=function(){t.remove(),e.delete()},s.onclick=function(){"High"==e.priority?e.setPriority("Low"):"Medium"==e.priority?e.setPriority("High"):"Low"==e.priority&&e.setPriority("Medium"),s.textContent=e.priority,"High"==e.priority&&(s.style.backgroundColor="#a12535"),"Medium"==e.priority&&(s.style.backgroundColor="#9c702a"),"Low"==e.priority&&(s.style.backgroundColor="#4c5e3d")},n.addEventListener("blur",(()=>e.name=n.textContent)),o.addEventListener("blur",(()=>e.dueDate=o.value)),i.addEventListener("click",(()=>{"Unfinished"==e.isFin?(n.style.textDecoration="line-through",t.style.filter="brightness(60%)",n.disabled=!0,s.disabled=!0,o.disabled=!0):(n.style.textDecoration="none",t.style.filter="brightness(100%)",n.disabled=!1,s.disabled=!1,o.disabled=!1),e.toggleComplete(),i.textContent=e.isFin}))}function b(e){const t=document.querySelector("#addtask-container"),n=document.querySelector("#addproj-container");t.style.display="none",n.style.display="none",h(),e.classList.contains("visible")?e.classList.remove("visible"):e.classList.add("visible")}function v(e){for(var t=e.firstChild;t;)t.remove(),t=e.firstChild}function E(){s.contentEditable=!1,s.textContent="TASKS",s.removeAttribute("data-index"),document.querySelector(".task-menu button:first-child").style.display="block";for(let e of t.getList()){g(e);for(let t of e.getList())L(t)}}function k(){C(),x(),s.textContent="PROJECTS",s.contentEditable=!1,s.removeAttribute("data-index");for(let e of t.getList())if("unlisted"!=e.name){const n=document.createElement("div");n.classList.add("proj-card");const i=document.createElement("p");i.classList.add("proj-name");const o=document.createElement("p");o.classList.add("task-count");const r=document.createElement("button");r.classList.add("del-btn");const l=new Image,u=e.getList().filter((e=>"Finished"!=e.isFin));i.textContent=`${e.name} (${e.getList().length})`,l.src=a,o.textContent=`${u.length} unfinished tasks`,r.addEventListener("mousedown",(()=>{n.remove(),t.getList().splice(t.getList().indexOf(e),1)})),n.addEventListener("click",(n=>{if(n.target!=r||n.target!=l){d.classList.add("visible"),v(c),s.textContent=e.name,s.dataset.index=`${t.getList().indexOf(e)}`,s.contentEditable=!0,s.addEventListener("blur",(()=>e.name=s.textContent)),y.style.display="block",document.querySelector("#addproj-container").style.display="none";for(let t of e.getList())L(t)}})),"General Task"==e.name?n.append(i,o):n.append(i,o,r),c.append(n),r.append(l)}}function h(){"TASKS"==s.textContent?(y.style.display="block",f.style.display="block"):"PROJECTS"==s.textContent?(y.style.display="none",f.style.display="block"):(y.style.display="block",f.style.display="none")}function x(){y.style.display="none",f.style.display="none"}function C(){const e=document.querySelector("#addtask-container"),t=document.querySelector("#addproj-container");e.style.display="none",t.style.display="none",d.classList.remove("visible"),m.classList.remove("visible")}t.add(i("General Task")),t.add(i("Test Project")),t.add(i("Test Project 2")),t.getList()[0].add(n("Task name","2023-05-01","Medium")),t.getList()[0].add(n("Task name here","2023-08-09","High")),t.getList()[0].add(n("Task name here","2023-08-09","High")),t.getList()[1].add(n("Task name here","2023-08-09","Low")),t.getList()[1].add(n("Task name here","2023-08-09","High")),t.getList()[1].add(n("Task name here","2023-08-09","Low")),t.getList()[2].add(n("Task name","2023-05-01","Medium")),t.getList()[2].add(n("Task name here","2023-07-23","Low")),t.getList()[2].add(n("Task name here","2023-07-23","High")),t.getList()[2].add(n("Task name here","2023-07-23","High")),E(),function(){let e="";for(let t of p)t.classList.contains("active")&&(e=t);for(let t of p)t.addEventListener("click",(()=>{C(),v(c),"proj"==t.getAttribute("id")&&k(),"tasks"==t.getAttribute("id")&&E(),e.classList.remove("active"),t.classList.add("active"),e=t}))}(),function(){const e=document.createElement("p");e.className="add-task-title",e.textContent="NEW TASK";const i=document.createElement("div");i.id="addtask-container";const o=document.createElement("input");o.id="name-field",o.type="text",o.placeholder="Task name...";const a=(new Date).toISOString().split("T")[0],d=document.createElement("input");d.value=a,d.id="duedate-field",d.type="date";const r=document.createElement("div");r.id="priority-container";const l=document.createElement("p");l.textContent="PRIORITY";const u=document.createElement("select"),p=document.createElement("option");p.textContent="High";const y=document.createElement("option");y.textContent="Medium";const f=document.createElement("option");f.textContent="Low",u.append(f,y,p),r.append(l,u);const g=document.createElement("select");g.id="proj-select-container";for(let e of t.getList()){const n=document.createElement("option");n.dataset.index=t.getList().indexOf(e),n.textContent=`${e.name}`,g.append(n)}const b=document.createElement("div");b.id="addtask-btn-container";const k=document.createElement("button");k.textContent="SAVE";const C=document.createElement("button");C.textContent="CANCEL",b.append(k,C),k.addEventListener("click",(()=>{const e=s.getAttribute("data-index"),i=g.options[g.selectedIndex].getAttribute("data-index");if(""!=o.value)if("TASKS"==s.textContent)t.getList()[i].add(n(o.value,d.value,u.value)),v(c),E();else{t.getList()[e].add(n(o.value,d.value,u.value)),v(c);for(let n of t.getList()[e].getList())L(n)}o.value="",d.value=a,u.value="Low",x()})),C.addEventListener("click",(()=>{h(),o.value="",d.value=a,u.value="Low",i.style.display="none"})),i.append(e,o,d,r,g,b),m.append(i),i.style.display="none"}(),function(){const e=document.createElement("p");e.className="add-proj-title",e.textContent="NEW PROJECT";const n=document.createElement("div");n.id="addproj-container";const o=document.createElement("input");o.id="projname-field",o.type="text",o.placeholder="Project name...";const a=document.createElement("div");a.id="addproj-btn-container";const d=document.createElement("button");d.textContent="SAVE";const r=document.createElement("button");r.textContent="CANCEL",a.append(d,r),d.addEventListener("click",(()=>{t.add(i(o.value)),v(c),"TASKS"==s.textContent&&E(),"PROJECTS"==s.textContent&&k(),document.querySelector("#addtask-container").style.display="none",n.style.display="none",o.value="",h();const e=document.querySelector("#proj-select-container");v(e);for(let n of t.getList()){const i=document.createElement("option");i.dataset.index=t.getList().indexOf(n),i.textContent=`${n.name}`,e.append(i)}})),r.addEventListener("click",(()=>{h(),o.value="",n.style.display="none"})),n.append(e,o,a),m.append(n),n.style.display="none"}(),r.addEventListener("click",(()=>b(u))),l.addEventListener("click",(()=>b(m))),d.addEventListener("click",(()=>v(c))),d.addEventListener("click",k),y.addEventListener("click",(function(){const e=document.querySelector("#addtask-container"),t=document.querySelector("#name-field"),n=document.querySelector("select"),i=document.querySelector("#duedate-field"),o=(new Date).toISOString().split("T")[0],a=document.querySelector("#proj-select-container");e.style.display="flex",x(),t.focus(),"TASKS"==s.textContent?a.style.display="block":a.style.display="none",t.value="",i.value=o,n.value="Low"})),f.addEventListener("click",(function(){const e=document.querySelector("#addproj-container"),t=document.querySelector("#projname-field");e.style.display="flex",x(),t.focus(),t.value=""}))})();